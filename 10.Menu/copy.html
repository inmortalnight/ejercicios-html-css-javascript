<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Menú del Día</title>
    <style>
        .contenedor {
            margin-bottom: 20px;
            border: 1px solid #ccc;
            padding: 10px;
        }
        img {
            width: 300px;
            height: 300px;
            margin-top: 20px;
            border: 1px solid #ccc;
        }
    </style>
</head>
<body>
    <script>
        // Título
        let title = 'Opciones del menú del día:';
        document.body.appendChild(document.createElement('h1')).innerText = title;

        // Opciones
        let primerPlato = ["(Elegir el primer plato)", "Macarrones (2€)", "Crema de calabaza (3€)", "Ensalada mixta (3€)"];
        let segundoPlato = ["(Elegir el segundo plato)", "Pollo asado con patatas (5€)", "Bacalao con arroz (6€)", "Entrecot a la parrilla (7€)"];
        let postre = ["(Elegir el postre)", "Flan de huevo (2€)", "Natillas (2€)", "Macedonia de frutas (3€)"];

        // Biblioteca de imágenes con alt y src
        let imagenes = {
            'Default': 'katie-smith-uQs1802D0CQ-unsplash.jpg',
            'Macarrones': 'kenneth-mallia-jJNDQQjJr-Y-unsplash.jpg',
            'Crema de calabaza': 'elena-leya-vesMzw6ADMA-unsplash.jpg',
            'Ensalada mixta': 'jana-ohajdova-e5M1EJ8dhhg-unsplash.jpg',
            'Pollo asado con patatas': 'karyna-panchenko-FKPEUj2jZCQ-unsplash.jpg',
            'Bacalao con arroz': 'david-b-townsend-AnC569NdAJc-unsplash.jpg',
            'Entrecot a la parrilla': 'jose-ignacio-pompe-XY-V_o-ykuk-unsplash.jpg',
            'Flan de huevo': 'wafer-wan-11F0qFgYpiU-unsplash.jpg',
            'Natillas': 'max-griss-Wp7ZsJYWP0M-unsplash.jpg',
            'Macedonia de frutas': 'jo-sonn-zeFy-oCUhV8-unsplash.jpg'
        };

        // Función para crear las cajas de selección
        let count = 1;
        function crearOpciones(opciones, tipo) {
            let contenedor = document.createElement('div');
            contenedor.className = 'contenedor';
            contenedor.id = 'contenedor' + count;

            let select = document.createElement('select');
            select.id = tipo; // Asignar un ID único
            opciones.forEach(element => {
                let option = document.createElement('option');
                option.innerText = element;
                select.appendChild(option);
            });

            contenedor.appendChild(select);
            document.body.appendChild(contenedor);
            count++;

            return { select, contenedor }; // Devolver el select y el contenedor
        }

        // Función para configurar la imagen
        function configurarImagen(alt, src, contenedor) {
            // Eliminar todas las imágenes existentes en el contenedor
            let imagenesEnContenedor = contenedor.getElementsByTagName('img');
            while (imagenesEnContenedor[0]) {
                imagenesEnContenedor[0].remove();
            }

            // Crear y agregar la nueva imagen
            let imagen = document.createElement('img');
            imagen.src = src;
            imagen.alt = alt;
            imagen.width = 300;
            imagen.height = 300;
            contenedor.appendChild(imagen);
        }

        // Crear cajas de selección
        const { select: selectPrimerPlato, contenedor: contenedor1 } = crearOpciones(primerPlato, 'primerPlato');
        const { select: selectSegundoPlato, contenedor: contenedor2 } = crearOpciones(segundoPlato, 'segundoPlato');
        const { select: selectPostre, contenedor: contenedor3 } = crearOpciones(postre, 'postre');

        // Default
        configurarImagen('Default', imagenes['Default'], contenedor1);
        configurarImagen('Default', imagenes['Default'], contenedor2);
        configurarImagen('Default', imagenes['Default'], contenedor3);

        // Event listeners para cada <select>
        selectPrimerPlato.addEventListener('change', function() {
            switch (this.value) {
                case 'Macarrones (2€)':
                    configurarImagen('Macarrones', imagenes['Macarrones'], contenedor1);
                    break;
                case 'Crema de calabaza (3€)':
                    configurarImagen('Crema de calabaza', imagenes['Crema de calabaza'], contenedor1);
                    break;
                case 'Ensalada mixta (3€)':
                    configurarImagen('Ensalada mixta', imagenes['Ensalada mixta'], contenedor1);
                    break;
                default:
                    configurarImagen('Default', imagenes['Default'], contenedor1);
                    break;
            }
        });

        selectSegundoPlato.addEventListener('change', function() {
            switch (this.value) {
                case 'Pollo asado con patatas (5€)':
                    configurarImagen('Pollo asado con patatas', imagenes['Pollo asado con patatas'], contenedor2);
                    break;
                case 'Bacalao con arroz (6€)':
                    configurarImagen('Bacalao con arroz', imagenes['Bacalao con arroz'], contenedor2);
                    break;
                case 'Entrecot a la parrilla (7€)':
                    configurarImagen('Entrecot a la parrilla', imagenes['Entrecot a la parrilla'], contenedor2);
                    break;
                default:
                    configurarImagen('Default', imagenes['Default'], contenedor2);
                    break;
            }
        });

        selectPostre.addEventListener('change', function() {
            switch (this.value) {
                case 'Flan de huevo (2€)':
                    configurarImagen('Flan de huevo', imagenes['Flan de huevo'], contenedor3);
                    break;
                case 'Natillas (2€)':
                    configurarImagen('Natillas', imagenes['Natillas'], contenedor3);
                    break;
                case 'Macedonia de frutas (3€)':
                    configurarImagen('Macedonia de frutas', imagenes['Macedonia de frutas'], contenedor3);
                    break;
                default:
                    configurarImagen('Default', imagenes['Default'], contenedor3);
                    break;
            }
        });

        // Botón de enviar
        let boton = document.createElement('button');
        boton.innerText = '¡A comer!';
        document.body.appendChild(boton);
    </script>
</body>
</html>